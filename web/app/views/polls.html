<div id="surveys" class="container" ng-init="hidden = {maxPageNumber: 5, currentPage: 0};" load-directive ng-model="polls_loaded">
    
    <div class="md-whiteframe-z1">
        
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h1>Polls/Surveys</h1>
                <div flex></div>
                <md-button ng-href="#/app/newpoll" ng-show="$parent.$parent.checkPermissions('leadership')">Create New</md-button>
            </div>
        </md-toolbar>
        <md-content class="md-padding">
        <search ng-model="search" id="pollSearch" ng-show="polls.length"></search>
        
        <md-list class="itemList hover">
            <md-item ng-repeat="poll in polls | orderBy: '-timestamp' | multipleSearch:search | startFrom:hidden.currentPage*hidden.maxPageNumber | limitTo: hidden.maxPageNumber">
                <md-item-content ng-click="showPoll(poll)" ng-class="{closed: !poll.open}">
                    <div class="md-tile-content">
                        <h3 class="md-primary title">
                            {{poll.name}}<span ng-show="!poll.open"> | closed</span>
                        </h3>
                        <p  class="notificationText">{{poll.description}}</p>
                    </div>
                </md-item-content>
            </md-item>
        </md-list>
            
        </md-content>
    </div>
    
</div>





<!--
<div id="polls" class="container" ng-init="hidden = {maxPageNumber: 5, currentPage: 0};" load-directive ng-model="polls_loaded">
<h1 class="darkbg">Polls <a id="newPollButton" ng-href="#/app/newpoll" ng-show="$root.checkPermissions('leadership')" class="btn btn-default pull-right">New Poll <i class="fa fa-plus-circle"></i></a>
</h1>
    <search ng-model="search" id="pollSearch" ng-show="polls.length"></search>
    <p ng-hide="polls.length">There are no polls yet!</p>
<ul>
<li ng-repeat="poll in polls | orderBy: '-timestamp' | multipleSearch:search | startFrom:hidden.currentPage*hidden.maxPageNumber | limitTo: hidden.maxPageNumber">
  <div ng-click="showPoll(poll)" class="notification" ng-class="{closed: !poll.open}">
       <div class="notificationContent">
        <span class="notificationTitle">{{poll.name}}</span>
        <span class="notificationText">{{poll.description}}</span>
        <span class="notificationSender">created by: {{$root.getNameFromKey(poll.creator)}}</span>
        </div>
    </div>
</li>
</ul>
<div class="pagerButtons" ng-show="polls.length">
            <button class="previous btn btn-default btn-sm" ng-disabled="hidden.currentPage == 0" ng-click="hidden.currentPage=hidden.currentPage-1"><i class="fa fa-arrow-left"></i></button>
            <button class="next btn btn-default btn-sm" ng-disabled="hidden.currentPage >= $root.polls.length/hidden.maxPageNumber - 1" ng-click="hidden.currentPage=hidden.currentPage+1"><i class="fa fa-arrow-right"></i></button>
            <span class="text-center notificationCount darkbg">{{(hidden.currentPage * hidden.maxPageNumber) + 1}} - {{(hidden.currentPage *hidden.maxPageNumber)+5 >= polls.length? polls.length: (hidden.maxPageNumber * hidden.currentPage)+5}}<span ng-hide="$root.hidden_notifications.length <= 5"> of {{polls.length}}</span></span>
            </div>

</div>
-->
