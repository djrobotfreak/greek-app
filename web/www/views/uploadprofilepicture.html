<div class="container" ng-controller="ProfilePicCtrl as P"> <md-progress-circular md-mode="indeterminate" ng-show="uploading" style="margin:20px auto"></md-progress-circular> <div ng-hide="uploading"> <section id="crop"> <div ng-show="imageSrc.length"> <h2 class="page-header" ng-show="imageSrc.length">Image<i class="fa fa-crop"></i></h2> <img-cropped src="imageSrc" selected="selected(cords)" ratio="1"></img-cropped> <div class="image_rotate_button_box"> <md-button ng-click="rotateImage('left')">left</md-button> <md-button ng-click="rotateImage('right')">right</md-button> <br> <md-progress-linear ng-show="loading_image" md-mode="indeterminate"></md-progress-linear> </div> </div> <h2 class="page-header" ng-show="P.cropData.length">Preview</h2> <div id="cropped-image" ng-show="cropped" style="width:240px; height:240px; overflow:hidden"> <img id="preview" ng-src="{{ P.imageSrc }}"> </div> <div class="canvas-preview"> <p class="test"></p> </div> </section> <form enctype="multipart/form-data" ng-submit="uploadImage(P.imageSrc, P.cropData)" id="profilePic"> <input type="file" name="file" accept="image/*" value="upload" aj-file-select="P.onFileSelect($files)" aj-change="P.getFile($files)" aj-model="P.file"> <br> <input ng-disabled="!P.cropData || uploading_image" type="submit" name="submit" value="Upload" class="btn btn-default"> </form> <p class="alert alert-danger" ng-show="error">Something went wrong. Please try again.</p> </div> </div>