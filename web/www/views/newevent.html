<div id="createEvent" class="container"> <div class="card"> <h1 class="card-header">Create a New Event</h1> <selecting-users ng-model="tags" skip-event="true"></selecting-users> <h2 class="card-header">Event Info</h2> <form id="newEvent" name="newEvent" ng-submit="addEvent(newEvent.$valid, event)" class="form-horizontal" role="form" novalidate> <div class="form-group" ng-class="{ 'has-error' : (newEvent.title.$invalid && !newEvent.title.$pristine) || (newEvent.title.$invalid && submitted)}"> <label for="title" class="col-sm-2 control-label">Title</label> <div class="col-sm-10"> <input type="text" class="form-control" id="title" name="title" ng-model="event.title" placeholder="Bowling Social" required> </div> <p ng-show="(newEvent.title.$invalid && !newEvent.title.$pristine) || (newEvent.title.$invalid && submitted)" class="help-block">Please enter a title.</p> </div> <div class="form-group" ng-class="{ 'has-error' : (newEvent.description.$invalid && !newEvent.description.$pristine) || (newEvent.description.$invalid && submitted)}"> <label for="description" class="col-sm-2 control-label">Description</label> <div class="col-sm-10"> <textarea class="form-control" id="description" name="description" ng-model="event.description" placeholder="We are going bowling! Yay!" required></textarea> </div> <p ng-show="(newEvent.description.$invalid && !newEvent.description.$pristine) || (newEvent.description.$invalid && submitted)" class="help-block">Please enter a description.</p> </div> <div class="form-group" ng-class="{ 'has-error' : (newEvent.location.$invalid && !newEvent.location.$pristine) || (newEvent.location.$invalid && submitted)}"> <label for="location" class="col-sm-2 control-label">Location</label> <div class="col-sm-10"> <input class="form-control" type="text" ng-autocomplete options="options" address="event.address" details="details" id="location" name="location" ng-model="event.location" placeholder="AMC Bowling Alley" required> </div> <p ng-show="(newEvent.location.$invalid && !newEvent.location.$pristine) || (newEvent.location.$invalid && submitted)" class="help-block">Please enter a location</p> </div> <div class="form-group" ng-class="{ 'has-error' : (newEvent.address.$invalid && !newEvent.address.$pristine) || (newEvent.address.$invalid && submitted)}"> <label class="col-sm-2 control-label">Address </label><div class="col-sm-10"> <p class="well"><span ng-show="event.location">{{event.address}}</span></p> </div> </div> <!--    <input type="text"  ng-autocomplete ng-model="autocomplete" options="options" details="details"/>--> <div class="form-group" ng-class="{ 'has-error' : ((newEvent.date_start.$invalid && !newEvent.date_start.$pristine) || (newEvent.date_start.$invalid && submitted)) || ((newEvent.time_start.$invalid && !newEvent.time_start.$pristine) || (newEvent.time_start.$invalid && submitted))}"> <label for="date_start" class="col-xs-2 control-label">Start</label> <div class="col-xs-5 col-sm-5"> <date-picker id="datestartPicker" name="date_start" ng-model="event.date_start"></date-picker> </div> <div class="col-xs-5 col-sm-5"> <time-picker id="timestartPicker" name="time_start" ng-model="event.time_start"></time-picker> </div> <p ng-show="((newEvent.date_start.$invalid && !newEvent.date_start.$pristine) || (newEvent.date_start.$invalid && submitted)) || ((newEvent.time_start.$invalid && !newEvent.time_start.$pristine) || (newEvent.time_start.$invalid && submitted))" class="help-block">Please enter start date and time.</p> </div> <div class="form-group" ng-class="{ 'has-error' : ((newEvent.date_end.$invalid && !newEvent.date_end.$pristine) || (newEvent.date_end.$invalid && submitted)) || ((newEvent.time_end.$invalid && !newEvent.time_end.$pristine) || (newEvent.time_end.$invalid && submitted))}"> <label for="date_end" class="col-xs-2 control-label">End</label> <div class="col-xs-5 col-sm-5"> <date-picker id="dateendPicker" name="date_end" ng-model="event.date_end"></date-picker> </div> <div class="col-xs-5 col-sm-5"> <time-picker id="timeendPicker" name="time_end" ng-model="event.time_end"></time-picker> </div> <p ng-show="((newEvent.date_end.$invalid && !newEvent.date_end.$pristine) || (newEvent.date_end.$invalid && submitted)) || ((newEvent.time_end.$invalid && !newEvent.time_end.$pristine) || (newEvent.time_end.$invalid && submitted))" class="help-block">Please enter end date and time.</p> </div> <div class="form-group has-feedback" ng-class="{ 'has-error' : (newEvent.tag.$invalid && !newEvent.tag.$pristine) || (newEvent.tag.$invalid && submitted) || unavailable, 'has-success' : available && !((newEvent.tag.$invalid && !newEvent.tag.$pristine) || (newEvent.tag.$invalid && submitted) || unavailable) }"> <label for="tag" class="col-sm-2 control-label">Event Tag</label> <div class="col-sm-10"> <div class="input-group"> <span class="input-group-addon">#</span> <input type="text" class="form-control tagInput" id="tag" name="tag" ng-model="event.tag" ng-trim="false" placeholder="BowlingSocial2014" required> <span class="input-group-btn"> <button ng-click="checkTagAvailability(event.tag)" class="btn btn-default" type="button" ng-disabled="checkWorking && checkWorking != 'broken' || newEvent.tag.$invalid">Check Availability</button><update-status ng-model="checkWorking" fn-call="checkTagAvailability(event.tag)"></update-status> </span> </div> <span class="form-control-feedback" ng-show="(newEvent.tag.$invalid && !newEvent.tag.$pristine) || (newEvent.tag.$invalid && submitted)" class="help-block">Please enter a tag for the event.</span> <span class="form-control-feedback" ng-show="isEmpty" class="help-block">Please enter a tag for the event.</span> <span class="form-control-feedback" ng-show="available" class="help-block">That will work!</span> <span class="form-control-feedback" ng-show="unavailable" class="help-block">That tag is already taken!</span> </div> </div> <span class="pull-right"><update-status ng-model="working"></update-status><button type="submit" class="btn btn-default" ng-disabled="!selectedMembers.length || !newEvent.$valid ||( working && working != 'broken')">Submit</button> </span></form> </div> <!-- <div ng-show="loading" id="loadingScreen"><i class="fa fa-spinner fa-spin"></i></div>--> </div>