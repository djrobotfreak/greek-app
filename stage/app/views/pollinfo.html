<!-- <div id="loadingScreen"><i class="fa fa-spinner fa-spin"></i></div> -->
<section  ng-show="notFound">Sorry this webpage could not be found. :(</section>

<section id="pollInfo" class="container" ng-hide="notFound" load-directive ng-model="loading_finished">


        <div id="pollTitle" class="col-sm-6 col-xs-12">
            <h1 class="text-center darkbg">{{poll.name}}<br>
            <div class="alert alert-warning text-center" role="alert" ng-show="poll.open === false">This poll is closed.</div>
            </h1> 
            
            <div id="description" class="card">
                <div class="icon"><i class="fa fa-quote-left"></i> | </div><p>{{poll.description}}</p>
                <span>Created by: {{creator.first_name}} {{creator.last_name}}</span>
            </div>
            
        </div>
        
        <div class="col-sm-6 col-xs-12">
           
           <div id="pollButtons" class="card">
                <button ng-click="goToResults()" ng-show="((poll.viewers != 'everyone' && $root.checkPermissions(poll.viewers))) || poll.viewers === undefined || poll.viewers == 'everyone'" class="btn btn-default iconButton"><i class="fa fa-bar-chart-o"></i></button>
                <div class="pull-right">
                <button ng-click="closePoll(true)" ng-show="poll.open && $root.checkPermissions('leadership')" class="btn btn-default iconButton"><i class="fa fa-pause"></i></button>
                <button ng-click="closePoll(false)" ng-show="poll.open === false && $root.checkPermissions('leadership')" class="btn btn-default iconButton"><i class="fa fa-play"></i></button>
                <button ng-click="deletePoll()" ng-show="$root.checkPermissions('council')" class="btn btn-danger iconButton"><i class="fa fa-trash-o"></i></button>
                </div>
            </div>
           
            <div id="responded" ng-if="poll.response_status || !poll.open" class="card">
               <h1 class="card-header">Your Response</h1>
                <div ng-repeat = "question in poll.questions | orderBy: 'index'">
                    <h3 class="question">{{question.worded_question}}</h3>
                    <span ng-repeat="a in question.response.answer" ng-show="question.response.answer.length"><span class="answer">{{a}}</span></span>
                    <span ng-hide="question.response.answer.length">No response</span>
                </div>
            </div>
            
            <div id="response" ng-if="!(poll.response_status || !poll.open)" class="card">
              <h1 class="card-header">Your Response</h1>
               <form name="response_form"  ng-submit="submitResponse()">
                <div class="question" ng-repeat="question in poll.questions | orderBy: 'index'">
                    <h3>{{question.worded_question}}</h3>
                    <div class="text_question" ng-show="question.type == 'text'"> 
                        <input type="text" name="response_form.input" ng-model="question.new_response" class="form-control col-sm-6" ng-required="question.type == 'text'">
                    </div>
                    <div class="multiple_choice_question" ng-show="question.type == 'multiple_choice'" ng-repeat="choice in question.choices"> 
                        <input type="radio" name="response_form.input" ng-model="question.new_response" ng-value="choice" ng-required="question.type == 'multiple_choice'"> {{choice}} <br/>
                    </div>
                </div>
                <input type="submit" ng-disabled="!response_form.$valid" class="btn btn-default">
              </form>  
            </div>
            
        </div>


<!--
<div class="jumbotron">
			
<a ng-href="#/app/polls" class="btn btn-default topLeft">Back <i class="fa fa-reply"></i></a>
<button ng-click="closePoll(true)" ng-show="poll.open && $root.checkPermissions('leadership')" class="btn btn-default topRight"><i class="fa fa-pause"></i> Close Poll</button>
<button ng-click="closePoll(false)" ng-show="poll.open === false && $root.checkPermissions('leadership')" class="btn btn-default topRight"><i class="fa fa-play"></i> Open Poll</button>
<button ng-click="deletePoll()" ng-show="$root.checkPermissions('council')" class="btn btn-danger bottomRight"><i class="fa fa-trash"></i> Delete Poll</button>
    

<button ng-click="goToResults()" ng-show="((poll.viewers != 'everyone' && $rootScope.checkPermissions(poll.viewers))) || poll.viewers === undefined || poll.viewers == 'everyone'" class="btn btn-default bottomLeft">Results <i class="fa fa-edit"></i></button>

            <div class="alert alert-warning text-center" role="alert" ng-show="poll.open === false">This poll is closed.</div>
			<h1 class="text-center">{{poll.name}}</h1>
			<p class="text-center">#{{poll.description}}</p>
</div>
<h2 class="page-header">Your Response</h2>

<div class="container" ng-if="poll.response_status || !poll.open">
    <div ng-repeat = "question in poll.questions | orderBy: 'index'">
        <h3 class="question">{{question.worded_question}}</h3>
        <span ng-repeat="a in question.response.answer" ng-show="question.response.answer.length"><span class="answer">{{a}}</span></span>
        <span ng-hide="question.response.answer.length">No response</span>
    </div>
</div>


<div ng-if="!(poll.response_status || !poll.open)">
   <form name="response_form"  ng-submit="submitResponse()">
    <div ng-repeat = "question in poll.questions | orderBy: 'index'">
        <p>{{question.worded_question}}</p>
        <div ng-show="question.type == 'text'"> 
            <input type="text" name="response_form.input" ng-model="question.new_response" class="form-control col-sm-6" ng-required="question.type == 'text'">
        </div>
        <div ng-show="question.type == 'multiple_choice'" ng-repeat="choice in question.choices"> 
            <input type="radio" name="response_form.input" ng-model="question.new_response" ng-value="choice" ng-required="question.type == 'multiple_choice'"> {{choice}} <br/>
        </div>
       <hr> 
    </div>
    <input type="submit" ng-disabled="!response_form.$valid" class="btn btn-default">
  </form>  
</div>
-->
</section>
